#include <stdio.h> 
#include <math.h> 
//#include <time.h> 
#include "./include/k2c_include.h" 
#include "zanga.h" 
#ifndef SPIKE
#include "printf.h"
#endif
float maxabs(k2c_tensor *tensor1, k2c_tensor *tensor2);
//struct timeval GetTimeStamp(); 
static int errno;
int *__errno(void) { return &errno; }  
float test1_input_1_input_array[784] = {
+1.16388706e+00f,+7.34766147e-01f,+3.47428278e-01f,+1.11875066e+00f,+4.08644260e-01f,
+9.12278961e-01f,-4.10378115e-01f,-4.79494125e-01f,+1.12120698e+00f,-6.95615004e-01f,
+8.02666932e-01f,-1.72080636e+00f,+2.20966958e-01f,-1.72980692e+00f,-1.28372248e+00f,
-9.88267654e-01f,+7.73683135e-01f,+1.63810341e+00f,-1.69512278e+00f,-1.56620923e+00f,
+1.15850353e+00f,+1.15296850e-01f,-1.12547936e+00f,-1.41579162e+00f,-1.10173951e+00f,
-1.16376130e-01f,-1.06752072e+00f,+3.17474035e-01f,-1.37110486e+00f,+9.42437845e-01f,
-1.64977552e+00f,-1.82169515e+00f,+1.54144996e+00f,+1.11584549e+00f,+1.54020479e+00f,
+1.57616314e+00f,-1.60030124e+00f,+1.39299297e+00f,-4.91765711e-02f,-6.32769278e-01f,
-1.79314454e+00f,+1.60529096e+00f,-1.34494375e+00f,+1.77781303e+00f,-1.61949856e+00f,
+1.04347238e+00f,-1.19147954e+00f,+1.85430257e+00f,-1.13080286e+00f,-8.17445559e-01f,
-6.50439080e-01f,+1.36937030e+00f,-1.62400532e+00f,+7.33718696e-02f,-5.63389667e-01f,
-4.87641990e-02f,+1.54795449e+00f,-1.51711151e+00f,-1.55475134e+00f,+5.82269443e-01f,
+2.89378366e-01f,+1.67697051e+00f,-1.48026705e+00f,+3.40933477e-01f,-1.71655377e+00f,
-5.66141187e-01f,-9.30164825e-01f,+9.42260676e-01f,-4.44168298e-01f,-1.60926835e+00f,
+8.11880198e-01f,+3.08131834e-01f,+1.58881720e+00f,-1.50294602e+00f,+1.72965292e+00f,
+6.66779770e-02f,+6.25661009e-02f,-1.00854649e+00f,-6.77710214e-01f,+1.23753091e+00f,
-6.54137543e-01f,-1.65464238e+00f,+1.47268468e-01f,+1.64823085e+00f,+6.63017492e-01f,
-1.73337046e+00f,+1.53040570e+00f,+1.03152107e+00f,-7.92794766e-01f,-1.48070894e+00f,
-3.25351955e-02f,+9.05165970e-01f,-6.57329768e-01f,-1.06645433e+00f,-6.51874640e-01f,
-1.61587107e+00f,+1.65193405e+00f,+8.64215295e-02f,+4.29382447e-01f,+1.04846030e+00f,
-1.36028512e+00f,-3.65785500e-01f,+2.24575182e-01f,+2.00002874e-01f,-3.98792965e-02f,
+1.84558408e+00f,+6.17937153e-01f,+9.53998615e-01f,-1.13695755e+00f,+3.23652865e-01f,
-1.60906799e+00f,+9.62112433e-01f,-1.27695853e+00f,+5.61169419e-01f,+3.25616890e-01f,
+1.94884777e+00f,-2.13842618e-01f,-1.32608483e+00f,+3.15083777e-01f,-6.95077986e-01f,
-6.79427575e-02f,+1.42754915e-01f,+1.33717194e+00f,+1.33128968e+00f,-7.32822087e-02f,
-3.97340009e-01f,+6.52477430e-01f,+2.54154972e-01f,-1.98621083e+00f,+1.77479369e+00f,
-8.92393323e-01f,+5.02203709e-01f,+4.60397786e-01f,-6.98329817e-01f,+8.96010751e-01f,
+1.34234620e+00f,-1.71886437e+00f,-7.09406343e-01f,-1.93308489e+00f,-1.10317945e+00f,
+1.80561156e+00f,-1.33863734e+00f,+4.86122310e-01f,-1.13958622e+00f,+1.21697301e+00f,
+1.64963006e+00f,+8.32513077e-01f,-1.85730133e+00f,-1.64571498e+00f,+9.60612781e-01f,
-8.62342198e-01f,+8.85946496e-01f,+1.08088258e-01f,-3.12478151e-01f,-2.58432974e-01f,
-1.48046281e+00f,-4.02994240e-01f,-1.29331752e+00f,-9.65853784e-01f,+7.46848894e-01f,
+1.22810043e+00f,-7.75981478e-01f,+1.38317849e+00f,-1.45106880e+00f,-6.04518767e-01f,
-6.93473189e-01f,-1.71110132e+00f,+1.71800991e+00f,+1.86547645e+00f,+2.38435267e-01f,
+2.27228441e-01f,-9.70699725e-01f,-1.62717385e+00f,-9.92313438e-01f,-9.54184939e-01f,
-1.97279877e+00f,+1.55627838e+00f,-2.85600058e-02f,+3.74495246e-01f,-1.40941587e+00f,
-1.46701637e+00f,+1.78148007e+00f,-2.86172336e-01f,-1.11275422e+00f,+9.61434455e-03f,
+2.63332792e-02f,+2.39492243e-01f,+1.67893864e+00f,-1.06459122e+00f,+1.40918521e+00f,
-1.42776572e-01f,+7.61441536e-01f,-5.03617671e-01f,+3.87631997e-01f,-4.07498691e-01f,
+8.68373035e-01f,+1.62906245e+00f,+1.61414783e+00f,+1.05011917e-01f,+3.27314100e-01f,
-1.15743022e+00f,-3.29448195e-01f,-1.49943304e-01f,-4.98553723e-01f,+1.02947719e+00f,
-7.45482543e-01f,+9.49229390e-01f,-1.22341553e+00f,-1.25759034e+00f,+2.23869184e-01f,
-1.49365587e+00f,-1.36859050e+00f,-1.80706356e+00f,-1.28418274e+00f,-1.56735140e-01f,
-1.82845063e-01f,+1.27022082e+00f,+4.12135194e-02f,-1.48231816e+00f,+1.84631100e+00f,
-1.16106401e+00f,+2.15678657e-01f,-5.24377940e-01f,+4.39287373e-01f,+5.36251981e-01f,
+1.31465656e+00f,+7.68151300e-01f,-1.50113712e+00f,-1.57916811e+00f,+6.47869679e-01f,
-1.31900834e+00f,+8.12400757e-01f,+5.94212587e-01f,-1.21857900e+00f,-5.60011540e-01f,
+8.13871497e-01f,+1.46405113e+00f,-1.47064267e+00f,+1.02500419e+00f,-1.71241750e+00f,
+3.17597434e-01f,+2.96193823e-01f,+7.99848595e-01f,-3.85287859e-01f,-3.32880320e-01f,
+3.53008246e-02f,+7.97166025e-01f,-3.90507061e-01f,+1.75406024e+00f,-1.42843085e+00f,
+9.38805378e-01f,-1.43077071e+00f,+1.19542469e+00f,+2.83832504e-01f,-1.51835126e+00f,
-1.70928784e+00f,-3.12854656e-01f,-6.65138141e-01f,-7.69874887e-01f,+1.06316377e+00f,
-7.75222638e-03f,+1.29393387e+00f,-6.30319530e-01f,+1.37281758e+00f,+1.87741629e+00f,
+1.69602795e+00f,-1.48891919e+00f,-1.12758601e+00f,+1.38662531e+00f,-2.03357877e-01f,
+1.83139357e+00f,+3.54163540e-01f,+3.73100745e-02f,-1.76663337e+00f,-2.12239223e-01f,
-1.44506883e+00f,-1.19818279e+00f,-1.07544012e+00f,-4.59811528e-01f,+1.94883460e+00f,
+1.66649174e+00f,+1.58047647e+00f,-1.74662718e+00f,+1.51398332e+00f,+2.95933088e-01f,
-1.85687484e+00f,+1.56007292e+00f,-1.44887215e+00f,-6.91220374e-01f,+1.99880111e+00f,
-1.71982293e+00f,+1.45519510e+00f,+6.02129273e-01f,-1.04300167e+00f,-1.63640049e+00f,
-7.93504603e-01f,+8.05995632e-01f,-1.70361421e-01f,+1.94757254e+00f,+6.14704529e-01f,
-1.76675131e-01f,-1.97506580e+00f,-1.99549558e-01f,-8.44030974e-01f,+1.37778174e+00f,
+1.71124687e+00f,+7.50377809e-01f,-7.17770830e-01f,+1.29271007e+00f,-7.58258715e-02f,
+2.52012055e-01f,-4.11537889e-01f,+1.29764307e+00f,-7.70314241e-01f,+1.85564930e-01f,
-5.70524383e-01f,+2.53467941e-01f,-1.34830469e+00f,-7.01048683e-01f,+1.33244689e+00f,
-1.33921141e+00f,+6.31311798e-01f,+2.36475120e-01f,+3.63845575e-01f,-1.83351911e+00f,
+3.78437355e-02f,-1.48333538e+00f,+1.50162295e+00f,-3.76470607e-01f,-1.19378301e+00f,
-1.46898568e+00f,-1.07817853e+00f,+1.05373616e-01f,-5.57261077e-02f,+1.81456293e+00f,
+1.69120616e+00f,+1.99863348e+00f,-1.39666965e+00f,+1.24944342e+00f,+4.69257217e-01f,
+2.35060372e-01f,+3.49173294e-01f,-1.11873526e+00f,-9.81790850e-01f,+9.69827371e-01f,
-1.92516730e+00f,+1.17536078e+00f,+8.75242223e-01f,+5.72469586e-01f,+1.68049454e+00f,
-4.55611025e-02f,-1.11050613e-01f,-1.23124543e+00f,-1.83608850e+00f,-2.70003930e-01f,
-1.29608344e+00f,-1.69337432e+00f,+1.74022650e-01f,-2.50671719e-02f,-1.74034616e+00f,
+7.20090870e-01f,-3.08895903e-01f,+5.18282079e-01f,-9.60360851e-01f,-1.57037693e+00f,
-1.94408477e+00f,-1.39011895e+00f,-1.88899940e+00f,+7.79512038e-01f,+8.09676588e-01f,
+3.00839001e-01f,+6.21591113e-01f,-8.47546665e-01f,+3.29844650e-01f,+1.48612217e+00f,
-9.04825162e-01f,-6.56178047e-01f,-2.92735283e-02f,-1.00557496e+00f,-1.08172087e+00f,
+1.07246754e-01f,+1.73895768e+00f,+1.06337962e+00f,-1.52514837e+00f,+8.63034936e-01f,
-1.80587518e+00f,-1.63413188e+00f,-1.21399298e+00f,-5.84905516e-01f,-3.00238789e-02f,
-9.20989753e-01f,-1.43444012e+00f,-1.21997865e+00f,-1.18667742e+00f,-4.67004513e-01f,
+4.39591533e-01f,-5.43130641e-01f,+1.64946986e+00f,-7.12648651e-01f,+4.32739626e-01f,
-1.94824920e+00f,+1.82071051e+00f,-1.28943568e+00f,+7.42817482e-01f,+4.51053884e-01f,
-1.87977262e+00f,-1.69396533e+00f,-6.80629656e-01f,-8.52040118e-01f,+3.51773215e-01f,
-1.88566923e+00f,+1.79112389e+00f,+1.93046510e+00f,-1.22228861e+00f,-1.03448719e+00f,
-2.84830077e-01f,+1.46916159e+00f,-1.49371787e+00f,-2.14736417e-01f,+7.49701854e-01f,
+2.21565181e-01f,-5.33033912e-01f,+1.05545013e+00f,-1.50316865e+00f,-1.10228484e+00f,
+1.83559759e+00f,-1.51885795e+00f,-1.41428216e+00f,+1.95306818e+00f,-6.69615798e-02f,
+1.42242908e+00f,-1.31494139e+00f,+1.00168486e+00f,+1.24914842e+00f,-5.39124987e-02f,
+1.79750623e+00f,+6.78320524e-01f,-7.78375025e-02f,-3.64733195e-01f,+1.08021027e+00f,
+2.06165877e-01f,+1.99911503e+00f,+1.96063606e+00f,+9.78371281e-01f,-1.92317255e+00f,
+1.57760070e+00f,+1.98304871e+00f,-7.09046241e-01f,+2.81253231e-01f,+4.91336818e-01f,
-1.60793540e-01f,-1.12420960e+00f,-1.08664934e+00f,+3.48433817e-01f,+1.43388472e+00f,
+7.92904888e-01f,-1.41090672e+00f,-1.74913126e+00f,-8.66046425e-01f,-1.46046988e+00f,
+1.92092982e+00f,+9.36116908e-01f,+1.14842905e+00f,+1.36638290e+00f,+1.56741372e+00f,
-4.89408604e-01f,+1.45627531e+00f,+1.99568548e+00f,-1.41940194e+00f,+8.69214981e-01f,
+1.04069737e+00f,-7.66142234e-01f,-1.81786846e+00f,+8.84700575e-01f,-9.90088840e-02f,
-1.35972317e+00f,-1.33734900e+00f,-2.09564474e-01f,-1.95110769e+00f,-1.13713375e+00f,
+5.17404827e-01f,+1.64031042e+00f,-2.33977222e-01f,-6.03371674e-01f,-4.50290801e-01f,
-1.08846825e+00f,+1.47603950e+00f,-1.98342578e+00f,-6.33291613e-01f,-6.00590194e-01f,
+1.93610117e+00f,-1.16602206e+00f,-1.43939626e+00f,-5.77274332e-01f,+1.84912937e+00f,
-9.53669959e-02f,-9.54061553e-01f,-4.34161020e-01f,-8.83990215e-01f,-4.78136326e-01f,
+4.56786017e-01f,+1.01157551e+00f,+3.63868353e-01f,+1.06326407e+00f,+1.08133234e+00f,
+1.24220427e+00f,+1.37594344e+00f,+1.01204878e+00f,+2.57658350e-01f,+5.30699891e-01f,
-1.06362355e+00f,+8.82453510e-01f,-4.99739542e-01f,+6.86825587e-01f,-1.75157621e+00f,
-8.91365522e-01f,-9.78454922e-01f,-1.65963516e+00f,+8.77444699e-01f,-8.04408229e-01f,
+5.07124774e-01f,+1.38625271e+00f,+1.30428188e+00f,-6.67189947e-01f,+5.27525510e-01f,
-1.19133751e+00f,+5.25280992e-01f,+1.82340122e+00f,+5.30451245e-01f,-1.78926339e+00f,
+1.40840045e+00f,+2.39716794e-01f,+1.98698445e+00f,+1.50081766e+00f,-3.64135860e-01f,
+1.72461584e-01f,-1.29536451e+00f,-7.94769288e-01f,+1.89252860e+00f,+1.70396622e+00f,
-6.52893197e-01f,+8.82247211e-02f,+4.41377767e-01f,+4.62726505e-01f,+1.32502077e-01f,
-8.05844934e-01f,+1.90786166e+00f,-4.62986880e-01f,+1.76625362e+00f,-1.49274081e+00f,
-1.97190478e+00f,-1.44378100e+00f,-7.68924931e-01f,-1.36225188e+00f,-1.81702044e+00f,
-3.19304341e-01f,+1.29889573e+00f,-1.26395034e+00f,-1.93340420e+00f,+1.40415444e+00f,
+1.30629230e+00f,+1.73330126e+00f,-1.37730633e+00f,+1.65806302e+00f,-1.42213055e+00f,
-1.03381560e+00f,+1.61417429e+00f,-1.21678374e-02f,-1.75848898e+00f,-1.80893002e-01f,
+1.75640356e+00f,-1.23145851e+00f,+5.64894104e-01f,+1.81496978e+00f,-8.02797307e-02f,
+1.93235093e+00f,-1.79019866e+00f,+1.95762901e+00f,-8.64201174e-01f,+1.97025983e+00f,
+3.98559058e-01f,-1.85281247e+00f,+5.79533278e-01f,+7.24209648e-01f,+2.93539136e-02f,
+1.18921497e+00f,+9.77851519e-01f,+1.66895024e+00f,+1.16814529e+00f,-7.53508099e-01f,
-7.55185670e-03f,-7.30907429e-01f,+5.14490857e-01f,+6.69434952e-01f,+1.88198847e+00f,
+1.74584906e-01f,-5.90301975e-01f,+2.14306024e-01f,-6.97816353e-01f,-1.55214412e+00f,
+9.93914589e-01f,+1.78214504e+00f,+1.67570211e+00f,+1.74154052e+00f,+5.37997002e-02f,
-6.18779960e-01f,+4.13746444e-01f,-1.77498526e+00f,+2.26551586e-01f,-1.23763421e+00f,
+3.40475754e-01f,-9.82710657e-01f,+9.93201013e-01f,+1.35407571e+00f,+2.99386578e-01f,
+1.52259787e+00f,+6.46218312e-01f,-2.37004967e-01f,-1.03430574e+00f,-9.61701814e-01f,
+1.88913724e-01f,-1.96119107e+00f,+1.79881862e+00f,+3.48356688e-01f,+1.80419885e+00f,
-2.27926575e-01f,-1.69812542e-01f,-1.28210878e+00f,-1.56806756e+00f,-8.77614391e-01f,
+2.95562050e-01f,+1.68484367e+00f,+1.51943594e+00f,-4.62850091e-01f,+4.25913456e-01f,
-1.58824798e+00f,+7.06077228e-01f,+1.00441214e+00f,-7.22249260e-01f,+1.54571233e+00f,
+1.94203589e+00f,+1.55986279e+00f,-1.90836518e+00f,-1.69346884e+00f,+7.29618359e-01f,
+1.19149719e+00f,-7.88842430e-01f,-2.18521924e-01f,+1.89057688e+00f,-1.89337593e+00f,
+2.03423693e-01f,-1.16878517e+00f,-1.53971915e+00f,-8.58700740e-01f,+1.84302236e-01f,
-1.59300492e+00f,-1.76182811e+00f,+9.38791947e-01f,+1.37892278e+00f,+1.52147733e+00f,
-1.76623236e+00f,+9.13305483e-01f,-7.78224500e-01f,-1.79077844e+00f,+1.80356108e+00f,
-7.42177165e-01f,-7.35157178e-01f,+2.06152779e-01f,-4.70079655e-01f,+1.70711872e+00f,
-1.35092821e+00f,+1.91608923e+00f,-7.90330973e-01f,+1.34327854e+00f,+1.56277929e-01f,
+8.23044329e-01f,+4.87873021e-01f,-2.41147512e-01f,+1.82713788e+00f,-9.71498799e-01f,
+7.33967860e-01f,-8.53512901e-01f,-3.78680474e-01f,-1.34317157e+00f,+2.03481584e-01f,
+2.46354328e-01f,-2.66337441e-01f,+1.08068228e+00f,-1.42618505e+00f,-1.47232647e+00f,
-1.71607359e+00f,+5.89875058e-02f,-1.45230775e+00f,-1.62902382e+00f,+1.20488396e+00f,
-5.25933148e-02f,+1.74866138e-01f,+5.37303149e-01f,-6.57470546e-01f,+1.82728299e+00f,
-7.56401481e-02f,+1.10693006e+00f,+1.05346795e+00f,+8.06479401e-01f,+1.72155039e-02f,
+1.22963513e+00f,+1.40217151e+00f,+3.66000878e-01f,-1.02215927e+00f,-1.97535315e+00f,
+1.25176746e-01f,+1.98012920e+00f,+1.05389373e+00f,-2.03296582e-01f,+1.11050228e+00f,
+1.06762707e+00f,+1.21437783e+00f,+1.35294725e+00f,-1.80460632e+00f,-2.15470105e-01f,
+1.77857784e+00f,-9.85331801e-01f,-1.38690850e+00f,+1.47992130e+00f,-1.59641641e+00f,
-5.02213166e-01f,-2.99085663e-01f,+6.97879716e-01f,-1.17114202e+00f,+1.71168872e+00f,
-1.49425177e+00f,+7.99639979e-01f,+1.66643654e+00f,-1.09512241e+00f,-1.29424818e+00f,
-1.36017984e+00f,+1.80285514e+00f,-6.38955938e-02f,-1.71543323e+00f,-1.26487261e+00f,
-1.38139222e+00f,+7.51652624e-01f,+5.97278406e-01f,+1.46106894e+00f,-5.82112906e-01f,
+1.15318485e+00f,+1.05572949e+00f,-1.08050241e+00f,-1.66490102e+00f,-1.36207225e-01f,
+1.29760063e+00f,-6.71240466e-01f,-1.11248961e+00f,-1.48119870e+00f,-7.02870977e-01f,
-9.65009758e-01f,-1.55501362e-01f,-1.26419067e+00f,+1.69260339e+00f,+1.57744357e+00f,
-7.54084308e-01f,-1.82957084e-01f,+1.94643986e+00f,+1.67196787e+00f,-2.69559122e-01f,
+5.92500398e-02f,-3.54279409e-01f,+1.22500498e+00f,+1.99051085e+00f,-2.61044610e-01f,
-7.83900972e-01f,-1.90987083e+00f,+8.11041416e-01f,+9.66348901e-01f,+8.48389821e-01f,
+1.24135756e+00f,+6.40200218e-01f,-1.07564435e+00f,-1.27029153e+00f,-2.25682324e-01f,
-5.14708204e-01f,+3.20746993e-01f,+1.26740569e+00f,+1.61392732e+00f,}; 
k2c_tensor test1_input_1_input = {&test1_input_1_input_array[0],3,784,{28,28, 1, 1, 1}}; 
float keras_dense_test1_array[10] = {
+3.05216294e-03f,+5.65140635e-06f,+1.01458073e-01f,+8.30170792e-03f,+3.17942875e-04f,
+2.32607871e-03f,+3.86957289e-03f,+2.51471056e-06f,+8.80598247e-01f,+6.80025187e-05f,
}; 
k2c_tensor keras_dense_test1 = {&keras_dense_test1_array[0],1,10,{10, 1, 1, 1, 1}}; 
float c_dense_test1_array[10] = {0}; 
k2c_tensor c_dense_test1 = {&c_dense_test1_array[0],1,10,{10, 1, 1, 1, 1}}; 
int main(){
 float errors[1];
 size_t num_tests = 1; 
size_t num_outputs = 1; 
zanga_initialize(); 
//clock_t t0 = clock(); 
printf("main file starting CNN\n" );
zanga(&test1_input_1_input,&c_dense_test1); 
printf("finnished CNN main file" );
//printf("Average time over 1 tests: %e s \n", 
// ((double)t1-t0)/(double)CLOCKS_PER_SEC/(double)1); 
errors[0] = maxabs(&keras_dense_test1,&c_dense_test1); 
float maxerror = errors[0]; 
for(size_t i=1; i< num_tests*num_outputs;i++){ 
if (errors[i] > maxerror) { 
maxerror = errors[i];}} 
printf("Max absolute error for 1 tests: %f \n", maxerror);
zanga_terminate(); 
if (maxerror > 1e-05) { 
return 1;} 
return 0;
} 

float maxabs(k2c_tensor *tensor1, k2c_tensor *tensor2){ 

    float x = 0; 

    float y = 0; 

    for(size_t i=0; i<tensor1->numel; i++){

    y = fabsf(tensor1->array[i]-tensor2->array[i]);
    if (y>x) {x=y;}}
    return x;}

